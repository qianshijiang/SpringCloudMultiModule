# micro-route-zuul 
###  网关应有的功能
- 参数校验
- 鉴权
- 限流
- 服务路由
- 负载均衡
- API服务列表的动态维护
- ...
<br>
本人主要针对性了解两大块：鉴权、API服务列表的动态维护

#### 鉴权

直观的理解是对于访问接口api的权限认证。一般的设计，将其独立出来作为一个独立的服务进行部署。那么，为什么将其放在网关中，而不是作为独立的服务被相应的api服务进行调用？我们现在业务架构中，就是将鉴权作为独立的服务，被相应的api服务调用,因为我们没有网关。鉴权一般情况下与业务相关的api服务关系不太高。将其分开，则能更好的开发业务相关的api服务，尤其是在开发调试阶段，我是身有感触。鉴权放在网关中，集中处理可以更好的限制后续的接口的请求流量等作用…

#### API服务的列表的动态维护
api服务的列表，即api服务提供者的服务器信息，因为频繁的上下线，或者单机出现故障，都会使单个api服务中服务器列表信息发生改变，那么如何维护呢？我们在使用nginx作为网关负载均衡器的情况下，即手动是维护nginx的配置。那么当微服务多了，则这个是运维的噩梦的开始，在我之前开发的api网关gateway中，是使用数据库表来维护，但是依然半自动化或者是人工来管理。那么如何自动维护呢？或者说能否自动维护？答案是肯定的，zuul借助注册中心来帮其维护api服务的动态列表。这个设计可以说是的相当的精妙。zuul 也将其作为一个api服务注册到注册中心，然后拉取api 服务的所有api服务器信息，通过默认的路由规则即可以完成网关的一大半功能。 这一转变可以说是将网关开发的技术难度大大降低。因为与服务相关的服务trace,服务治理，限流等等功能都可以转驾到注册中心。这个设计可以说太巧妙了…

## 开发视图
![输入图片说明](https://git.oschina.net/uploads/images/2017/0831/114028_ce2e6c38_1468963.png "console-zuul.png")

### 浏览器分别输入
>http://127.0.0.1:8401/api-a/HelloARibbon?name=lishangzhi
>
>http://127.0.0.1:8401/api-a/HelloARibbon?name=lishangzhi
![输入图片说明](https://git.oschina.net/uploads/images/2017/0831/113726_b3965430_1468963.png "zureka-zuul.png")







